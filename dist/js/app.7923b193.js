(function(t){function e(e){for(var n,o,i=e[0],c=e[1],l=e[2],d=0,p=[];d<i.length;d++)o=i[d],r[o]&&p.push(r[o][0]),r[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(p.length)p.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,i=1;i<a.length;i++){var c=a[i];0!==r[c]&&(n=!1)}n&&(s.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},r={app:0},s=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"2b56":function(t,e,a){"use strict";var n=a("f6b3"),r=a.n(n);r.a},"304b":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var n=a("2b0e"),r=a("bb71");a("da64");n["a"].use(r["a"],{iconfont:"md",theme:{primary:"#9652ff",success:"#3cd1c2",info:"#ffaa2c",error:"#f83e70",completes:"#3cd1c2",ongoings:"#ffaa2c",overdues:"#f83e70"}});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{staticClass:"grey lighten-4"},[t.show?a("Navbar"):t._e(),t.show?a("v-content",{staticClass:"mb-4"},[a("router-view")],1):t._e(),t.show?t._e():a("v-content",{staticClass:"ma-0"},[a("router-view")],1)],1)},o=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",[a("v-snackbar",{attrs:{timeout:4e3,top:"",color:"success"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[a("span",[t._v("Wow! You added a new project.")]),a("v-btn",{attrs:{flat:"",color:"white"},on:{click:function(e){t.snackbar=!1}}},[t._v("Close")])],1),a("v-toolbar",{attrs:{flat:"",app:""}},[a("v-toolbar-side-icon",{staticClass:"grey--text",on:{click:function(e){t.drawer=!t.drawer}}}),a("v-toolbar-title",{staticClass:"text-uppercase grey--text"},[a("span",{staticClass:"font-weight-light"},[t._v("Todo")]),a("span",[t._v("Team")])]),a("v-spacer"),a("v-btn",{attrs:{flat:"",color:"grey"},on:{click:t.signout}},[a("span",[t._v("Sign out")]),a("v-icon",{attrs:{right:""}},[t._v("exit_to_app")])],1)],1),a("v-navigation-drawer",{staticClass:"primary",attrs:{app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-layout",{attrs:{column:"","align-center":""}},[a("v-flex",{staticClass:"mt-5"},[a("v-avatar",{attrs:{size:"100"}},[a("img",{attrs:{src:"/man.png",alt:""}})]),a("p",{staticClass:"white--text subheading mt-1 text-xs-center"},[t._v("\n          "+t._s(t.name)+"\n        ")])],1),a("v-flex",{staticClass:"mt-3 mb-3"},[a("Popup",{on:{projectAdded:function(e){t.snackbar=!0}}})],1)],1),a("v-list",t._l(t.links,function(e){return a("v-list-tile",{key:e.text,attrs:{router:"",to:e.route}},[a("v-list-tile-action",[a("v-icon",{staticClass:"white--text"},[t._v(t._s(e.icon))])],1),a("v-list-tile-content",[a("v-list-tile-title",{staticClass:"white--text"},[t._v(t._s(e.text))])],1)],1)}),1)],1)],1)},c=[],l=(a("a481"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"success",attrs:{slot:"activator",flat:""},slot:"activator"},[t._v("Add new project")]),a("v-card",[a("v-card-title",[a("h2",[t._v("Add a New Project")])]),a("v-card-text",[a("v-form",{ref:"form",staticClass:"px-3"},[a("v-alert",{attrs:{type:"error",value:t.alerta}},[t._v("\n          Type some title\n        ")]),a("v-text-field",{attrs:{label:"Title","prepend-icon":"edit"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),a("v-menu",[a("v-text-field",{attrs:{slot:"activator",rules:t.dateRules,readonly:"",value:t.formattedDate,label:"Due date","prepend-icon":"date_range"},slot:"activator"}),a("v-date-picker",{model:{value:t.due,callback:function(e){t.due=e},expression:"due"}})],1),a("v-spacer"),a("v-btn",{staticClass:"success mx-0 mt-3",attrs:{flat:"",loading:t.loading},on:{click:t.submit}},[t._v("Add project")])],1)],1)],1)],1)}),u=[],d=a("70f2"),p=a.n(d),v=a("59ca"),f=a.n(v);a("e71f");a("ea7b");var m={apiKey:"AIzaSyA2VM3IU0FLjhcs-iDGa_iXd5rnJcmPdWU",authDomain:"todoteam-3263d.firebaseapp.com",databaseURL:"https://todoteam-3263d.firebaseio.com",projectId:"todoteam-3263d",storageBucket:"todoteam-3263d.appspot.com",messagingSenderId:"643524690865",appId:"1:643524690865:web:1b7e4938dad3e2e4"};f.a.initializeApp(m);var h=f.a.firestore(),b=h,g=a("8aa5"),x=a.n(g),_=new n["a"],k={data:function(){return{dialog:!1,title:"",content:"",due:null,userId:"",alerta:!1,dateRules:[function(t){return t.length>=4||"Invalid format. Click to pick"}],loading:!1}},methods:{submit:function(){var t=this;if(this.title.length>0&&this.due.length>=4){this.loading=!0;var e=b.collection("users/"+this.userId+"/projects"),a={title:this.title,content:this.content,due:p()(this.due,"Do MMM YYYY"),status:"ongoing",priority:100};e.add(a).then(function(){t.loading=!1,t.dialog=!1,t.formReset(),_.$emit("project-added")}),this.alerta=!1}else this.alerta=!0},formReset:function(){this.title="",this.content="",this.due=null}},computed:{formattedDate:function(){return this.due?p()(this.due,"Do MMM YYYY"):""}},created:function(){var t=x.a.auth().currentUser;if(t)var e=t.uid;this.userId=e}},y=k,w=a("2877"),V=a("6544"),C=a.n(V),j=a("0798"),T=a("8336"),S=a("b0af"),A=a("99d9"),I=a("12b2"),O=a("2e4b"),D=a("169a"),P=a("4bd4"),M=a("e449"),E=a("9910"),$=a("2677"),B=Object(w["a"])(y,l,u,!1,null,null,null),L=B.exports;C()(B,{VAlert:j["a"],VBtn:T["a"],VCard:S["a"],VCardText:A["b"],VCardTitle:I["a"],VDatePicker:O["a"],VDialog:D["a"],VForm:P["a"],VMenu:M["a"],VSpacer:E["a"],VTextField:$["a"]});var R={components:{Popup:L},data:function(){return{name:"",drawer:!1,links:[{icon:"dashboard",text:"Dashboard",route:"/dashboard"},{icon:"settings",text:"Settings",route:"/settings"}],snackbar:!1}},methods:{signout:function(){var t=this;x.a.auth().signOut().then(function(){t.$router.replace("/auth")})}},created:function(){var t=x.a.auth().currentUser;t&&(this.name=t.displayName)}},F=R,Y=a("8212"),N=a("0e8f"),U=a("132d"),z=a("a722"),W=a("8860"),q=a("ba95"),J=a("40fe"),Z=a("5d23"),G=a("f774"),H=a("2db4"),K=a("71d9"),X=a("706c"),Q=a("2a7f"),tt=Object(w["a"])(F,i,c,!1,null,null,null),et=tt.exports;C()(tt,{VAvatar:Y["a"],VBtn:T["a"],VFlex:N["a"],VIcon:U["a"],VLayout:z["a"],VList:W["a"],VListTile:q["a"],VListTileAction:J["a"],VListTileContent:Z["a"],VListTileTitle:Z["b"],VNavigationDrawer:G["a"],VSnackbar:H["a"],VSpacer:E["a"],VToolbar:K["a"],VToolbarSideIcon:X["a"],VToolbarTitle:Q["a"]});var at={name:"App",components:{Navbar:et},data:function(){return{}},computed:{show:function(){return"/auth"!=this.$route.path}}},nt=at,rt=a("7496"),st=a("549c"),ot=Object(w["a"])(nt,s,o,!1,null,null,null),it=ot.exports;C()(ot,{VApp:rt["a"],VContent:st["a"]});var ct=a("8c4f"),lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard"},[a("h1",{staticClass:"subheading grey--text ml-4"},[t._v("Dashboard")]),a("v-snackbar",{attrs:{top:"",color:"warning",flat:""},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[a("span",[t._v("Are you sure?")]),a("v-btn",{attrs:{flat:"",color:"white"},on:{click:function(e){t.snackbar=!1,t.deleteProject()}}},[t._v("Yes")]),a("v-btn",{attrs:{flat:"",color:"white"},on:{click:function(e){t.snackbar=!1}}},[t._v("No")])],1),a("v-container",{staticClass:"my-2"},[a("v-layout",{staticClass:"mb-3",attrs:{row:"",wrap:""}},[a("v-tooltip",{attrs:{top:""}},[a("v-btn",{attrs:{slot:"activator",small:"",flat:"",color:"grey"},on:{click:function(e){return t.sortBy("title")}},slot:"activator"},[a("v-icon",{attrs:{left:"",small:""}},[t._v("folder")]),a("span",{staticClass:"caption text-lowercase"},[t._v("By project name")])],1),a("span",[t._v("Sort projetcs by project name")])],1),a("v-tooltip",{attrs:{top:""}},[a("v-btn",{attrs:{slot:"activator",small:"",flat:"",color:"grey"},on:{click:function(e){return t.sortBy("status")}},slot:"activator"},[a("v-icon",{attrs:{left:"",small:""}},[t._v("check_circle")]),a("span",{staticClass:"caption text-lowercase"},[t._v("By status")])],1),a("span",[t._v("Sort projects by status")])],1)],1),a("draggable",{attrs:{delay:"150"},on:{change:t.saveOrder},model:{value:t.projects,callback:function(e){t.projects=e},expression:"projects"}},t._l(t.projects,function(e,n){return a("v-card",{key:e.title,attrs:{flat:""}},[a("v-layout",{class:"pa-2 project "+e.status,attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",md6:""}},[a("div",{staticClass:"caption grey--text"},[t._v("Project Title")]),t.editMode&&n==t.indexToEdit?t._e():a("div",{class:{"mt-0 mb-1":t.$vuetify.breakpoint.smAndDown}},[t._v(t._s(e.title))]),a("v-form",{on:{submit:function(e){return e.preventDefault(),t.updateTitle(n)}}},[t.editMode&&t.indexToEdit==n?a("v-text-field",{staticClass:"ma-0 pa-0",attrs:{autofocus:"",color:e.status+"s"},model:{value:t.newTitle,callback:function(e){t.newTitle=e},expression:"newTitle"}}):t._e()],1)],1),a("v-flex",{attrs:{xs5:"",sm6:"",md2:""}},[a("div",{staticClass:"caption grey--text"},[t._v("Due by")]),a("div",{class:{"mt-0 mx-0 px-0":t.$vuetify.breakpoint.smAndDown}},[t._v(t._s(e.due))])]),a("v-flex",{staticClass:"pt-0",attrs:{xs3:"",sm3:"",md2:""}},[a("div",{staticClass:"mt-0 pt-0"},[a("v-btn",{class:e.status+" white--text px-0 mx-0",attrs:{flat:"",small:"",round:""},on:{click:function(e){return t.changeStatus(n)}}},[t._v("\n              "+t._s(e.status)+"\n            ")])],1)]),a("v-spacer"),a("v-flex",{attrs:{xs3:"",sm3:"",md2:""}},[a("div",{staticClass:"mt-0 pt-0"},[a("v-btn",{staticClass:"pa-0 ma-0",class:""+e.status,attrs:{icon:""},on:{click:function(a){t.editMode=!t.editMode,t.indexToEdit=n,t.newTitle=e.title}}},[a("v-icon",[t._v("edit")])],1),a("v-btn",{staticClass:"pa-0 ma-0",class:""+e.status,attrs:{icon:""},on:{click:function(e){t.snackbar=!0,t.indexToEdit=n}}},[a("v-icon",[t._v("delete")])],1)],1)])],1),a("v-divider")],1)}),1)],1)],1)},ut=[],dt=a("cebc"),pt=(a("ac6a"),a("55dd"),a("310e")),vt=a.n(pt),ft={components:{draggable:vt.a},data:function(){return{projects:[],userId:"",btnColor:"",snackbar:!1,editMode:!1,newTitle:"",indexToEdit:0}},mounted:function(){var t=this;_.$on("project-added",function(){t.saveOrder()})},methods:{sortBy:function(t){this.projects.sort(function(e,a){return e[t]<a[t]?-1:1})},changeStatus:function(t){var e=this.projects[t],a=b.collection("users/"+this.userId+"/projects").doc(e.id);switch(e.status){case"ongoing":var n="complete",r="success";break;case"complete":n="overdue",r="error";break;case"overdue":n="ongoing",r="info";break;default:break}a.set({status:n},{merge:!0}),e.status=n,this.btnColor=r},deleteProject:function(){var t=this.indexToEdit,e=this.projects[t],a=b.collection("users/"+this.userId+"/projects").doc(e.id);a.delete().then(function(){}).catch(function(t){alert(t.message)}),t>-1&&this.projects.splice(t,1),this.saveOrder()},saveOrder:function(){for(var t=0;t<this.projects.length;t++){var e=this.projects[t],a=b.collection("users/"+this.userId+"/projects").doc(e.id);a.set({priority:t},{merge:!0})}},updateTitle:function(t){var e=this.projects[t],a=b.collection("users/"+this.userId+"/projects").doc(e.id);a.set({title:this.newTitle},{merge:!0}),e.title=this.newTitle,this.editMode=!1}},created:function(){var t=this,e=x.a.auth().currentUser;if(e){var a=e.uid;this.userId=a}var n=b.collection("users/"+a+"/projects");n=n.orderBy("priority","desc"),n.onSnapshot(function(e){var a=e.docChanges();a.forEach(function(e){"added"===e.type&&t.projects.unshift(Object(dt["a"])({},e.doc.data(),{id:e.doc.id}))})})}},mt=ft,ht=(a("2b56"),a("a523")),bt=a("ce7e6"),gt=a("3a2f"),xt=Object(w["a"])(mt,lt,ut,!1,null,null,null),_t=xt.exports;C()(xt,{VBtn:T["a"],VCard:S["a"],VContainer:ht["a"],VDivider:bt["a"],VFlex:N["a"],VForm:P["a"],VIcon:U["a"],VLayout:z["a"],VSnackbar:H["a"],VSpacer:E["a"],VTextField:$["a"],VTooltip:gt["a"]});var kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"settings"},[a("h1",{staticClass:"subheading grey--text ml-4"},[t._v("Settings")]),a("v-container",{staticClass:"my-2"})],1)},yt=[],wt={data:function(){return{}}},Vt=wt,Ct=Object(w["a"])(Vt,kt,yt,!1,null,null,null),jt=Ct.exports;C()(Ct,{VContainer:ht["a"]});var Tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("v-app",{attrs:{id:"inspire"}},[a("v-snackbar",{attrs:{timeout:4e3,top:"",color:"error"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[a("span",[t._v(t._s(t.snackbarText))]),a("v-btn",{attrs:{flat:"",color:"white"},on:{click:function(e){t.snackbar=!1}}},[t._v("Close")])],1),a("v-content",[a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[a("v-card",{staticClass:"elevation-10"},[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[t.login?a("v-toolbar-title",[t._v("Sign in")]):t._e(),t.login?t._e():a("v-toolbar-title",[t._v("Welcome")]),a("v-spacer"),a("v-tooltip",{attrs:{bottom:""}},[a("v-btn",{attrs:{slot:"activator",icon:"",large:"",target:"_blank"},slot:"activator"},[a("v-icon",{attrs:{large:""}},[t._v("home")])],1),a("span",[t._v("Home")])],1)],1),a("v-card-text",[a("v-form",{attrs:{id:"login-form"},on:{submit:function(e){e.preventDefault(),t.login?t.signin():t.signup()}}},[t.login?t._e():a("v-text-field",{attrs:{"prepend-icon":"person",name:"name",label:"Name",type:"text",rules:t.nameRules},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),a("v-text-field",{attrs:{"prepend-icon":"email",name:"email",label:"Email",type:"text",rules:t.emailRules},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{"prepend-icon":"lock",name:"password",label:"Password",id:"password",type:"password",rules:t.passwordRules},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t.login?t._e():a("p",{staticClass:"text-xs-center primary--text",on:{click:function(e){t.login=!0}}},[a("a",[t._v("Already have an account? Sign in")])]),t.login?a("p",{staticClass:"text-xs-center primary--text",on:{click:function(e){t.login=!1}}},[a("a",[t._v("Don't have an account? Sign up")])]):t._e()],1),a("v-card-actions",[a("v-spacer"),t.login?a("v-btn",{attrs:{color:"primary",type:"submit",form:"login-form",loading:t.loading}},[t._v("Login")]):t._e(),t.login?t._e():a("v-btn",{attrs:{color:"primary",type:"submit",form:"login-form",loading:t.loading}},[t._v("Sing up")])],1)],1)],1)],1)],1)],1)],1)],1)},St=[],At=(a("7f7f"),{data:function(){return{name:"",email:"",password:"",loading:!1,login:!0,nameRules:[function(t){return t.length>=2||"Too short"}],emailRules:[function(t){if(t.length>0){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)||"Invalid email."}}],passwordRules:[function(t){if(t.length>0)return t.length>=5||"Too short."}],snackbar:!1,snackbarText:""}},methods:{signup:function(){var t=this;this.name.length>=2?(this.loading=!0,x.a.auth().createUserWithEmailAndPassword(this.email,this.password).then(function(e){e=x.a.auth().currentUser,e&&e.updateProfile({displayName:t.name}).then(function(){t.loading=!1,t.$router.replace("/dashboard")})}).catch(function(t){return t.message}).then(function(e){t.loading=!1,e.length>0&&(t.snackbarText=e,t.snackbar=!0)})):(this.snackbarText="Name too short",this.snackbar=!0)},signin:function(){var t=this;this.loading=!0,x.a.auth().signInWithEmailAndPassword(this.email,this.password).then(function(){t.loading=!1,t.$router.replace("/dashboard")}).catch(function(t){return t.message}).then(function(e){t.loading=!1,t.snackbarText=e,t.snackbar=!0})}}}),It=At,Ot=(a("7c2d"),Object(w["a"])(It,Tt,St,!1,null,null,null)),Dt=Ot.exports;C()(Ot,{VApp:rt["a"],VBtn:T["a"],VCard:S["a"],VCardActions:A["a"],VCardText:A["b"],VContainer:ht["a"],VContent:st["a"],VFlex:N["a"],VForm:P["a"],VIcon:U["a"],VLayout:z["a"],VSnackbar:H["a"],VSpacer:E["a"],VTextField:$["a"],VToolbar:K["a"],VToolbarTitle:Q["a"],VTooltip:gt["a"]}),n["a"].use(ct["a"]);var Pt=new ct["a"]({mode:"history",base:"/",routes:[{path:"*",redirect:"/auth"},{path:"/",redirect:"/auth"},{path:"/dashboard",name:"dashboard",component:_t,meta:{requiresAuth:!0}},{path:"/settings",name:"settings",component:jt,meta:{requiresAuth:!0}},{path:"/auth",name:"auth",component:Dt}]});Pt.beforeEach(function(t,e,a){t.matched.some(function(t){return t.meta.requiresAuth})?x.a.auth().currentUser?a():a({path:"/login",query:{redirect:t.fullPath}}):a()});var Mt=Pt;n["a"].config.productionTip=!1;var Et="";x.a.auth().onAuthStateChanged(function(){Et||(Et=new n["a"]({router:Mt,render:function(t){return t(it)}}).$mount("#app"))})},"7c2d":function(t,e,a){"use strict";var n=a("304b"),r=a.n(n);r.a},f6b3:function(t,e,a){}});
//# sourceMappingURL=app.7923b193.js.map